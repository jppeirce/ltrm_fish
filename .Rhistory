4_5
4+5
sqrt(0.14*0.86/100)
sqrt(0.14*0.86/200)
0.254-0.095
0.254-0.111
9/38
median
median(c(0.074, 0.081, 0.096, 0.079, 0.080))
(0.6*1.05^2+0.4/1.05^2)^60
(0.6*1.05+0.4/1.05)^60
(0.6*1.05^2+0.4/1.05^2)^60 - ((0.6*1.05+0.4/1.05)^60)^2
120*35
10000*e^(0.0084*2)
10000*exp(0.0084*2)
log(42/30)/4
12*50/2000
log(42/30)/(4*log(1.03))
((1+.03/4)^(40)-1)/(.03/4)
42000/(((1+.03/4)^(40)-1)/(.03/4))
100(((1+0.06/12)^(24)-1)/(.06/12))
100*(((1+0.06/12)^(24)-1)/(.06/12))
.03*150
0.033-0.0041
.03*(1-.03)/150
0.03*149
60^2 - 2*45^2
60^2 - 45^2
(60^2 - 45^2)/60^2
1/Exp(1)
exp(1)
1/exp(1)
sqrt(2765/12)
75*50
75*50*exp(-3/5)
600+3750-2058.044
2291.956/30
18*/12
18*.32
1600*exp(-5.76)
1600*exp(-5.76)/0.38
(1.507-1.429)/sqrt(0.136^2/12+0.141^2/12)
(1.507-1.429)/0.05655
0.098*2
.077/(0.022/sqrt(12))
.0775/(0.0218/sqrt(12))
0.5^2*(2.170/0.036)^2
2.17/0.036
(2.17/0.036)^2
(2.17/0.036)^2/4
(0.07)*(0.93)*(2.17/0.036)^2
(1.645*8.34/2.5)^2
(34.818 -17.7)/sqrt(21.085^2/11+16.694^2/10)
2/24
(182-182*.455)^2/(182*.455)+(149-149*.455)^2/(149*.455)+(31-31*.09)^2/(31*.09)
362*0.455
362*0.09
(182-362*.455)^2/(362*.455)+(149-362*.455)^2/(362*.455)+(31-362*.09)^2/(362*.09)
p1 <- 29/69
p2 <- 15/120
sqrt(p1*(1-p1)/69+p2*(1-p2)/120)
p <- 44/189
sqrt(p*(1-p)/69+p*(1-p)/120)
(1.645/0.03)^2 * (0.5)*(0.5)
(1.645/0.03)^2 * (0.7)*(0.3)
1868/sqrt(1074^2/25+593.4^2/25)
phat = 10/48
sqrt(phat*(1-phat)/24 + phat*(1-phat)/24)
30+15+5*1.5+5*.75
4*log(3)
(1.645/0.,025)^2*(0.5)^2
(1.645/0.025)^2*(0.5)^2
sqrt(.5^2/1083)*1.645
5485/18
(5485-191.98)/18
(5485-191.98)/17
(5485-200)/17
(5485-201)/17
(5485-205)/17
(5485-210)/17
(5485-215)/17
install.packages(c("tidyverse", "dplyr","labelled","rstatix","ggpubr","GGally","car","Epi","lme4","lmerTest","emmeans","multcomp","geepack","ggeffects","gt"))
library(tidyverse)
library(labelled)   # labeling data
library(rstatix)    # summary statistics
library(ggpubr)     # convenient summary statistics and plots
library(GGally)     # advanced plot
library(car)        # useful for anova/wald test
library(Epi)        # easy getting CI for model coef/pred
library(lme4)       # linear mixed-effects models
library(lmerTest)   # test for linear mixed-effects models
library(emmeans)    # marginal means
library(multcomp)   # CI for linear combinations of model coef
library(geepack)    # generalized estimating equations
library(ggeffects)  # marginal effects, adjusted predictions
library(gt)         # nice tables
library(dplyr)
#This is now starting to use the tidyverse. If you are not familiar with the tidyverse, see "R for Data Science" https://r4ds.had.co.nz
#Load data
load(url("http://alecri.github.io/downloads/data/dental.RData"))
#look at the data
dental
5 % 2
5 & 2
5 %% 2
1001 %% 10
2358 %% 10
install.packages("twang")
library(twang)
data(lindner)
?lindner
head(lindner)
table(lindner$sixMonthSurvive, lindner$abcix)
summary(glm(lindner$sixMonthSurvive~lindner$abcix, family = "binomial"))
set.seed(1)
set.seed(1)
ps.lind = ps(abcix~stent + height + female + diabetic + acutemi + ejecfrac + ves1proc,
data = lindner, verbose = FALSE, estimand = "ATE", stop.method = "es.mean")
bal.table(ps.lind)
plot(ps.lind, plots=3)
plot(ps.lind)
summary(ps.lind)
summary(ps.lind$gbm.obj, plot = TRUE)
install.packages("survey")
library(survey)
install.packages("survey")
lindner$w = get.weights(ps.lind, stop.method = "es.mean")
lindner$sixMonthSurvive = 1*lindner$sixMonthSurvive
design.ps = svydesign(ids=~1, weights = ~w, data=lindner)
head(lindner)
summary(svyglm(sixMonthSurvive~abcix, family = "binomial", design=design.ps))
#compare to
summary(glm(lindner$sixMonthSurvive~lindner$abcix, family = "binomial"))
data(lalonde)
?lalonde
head(lalonde)
ps.la= ps(treat ~ age + educ + black + hispan + nodegree + married + re74 + re75,
data = lalonde, verbose = FALSE, estimand = "ATT", stop.method = "es.mean")
set.seed(1)
ps.la= ps(treat ~ age + educ + black + hispan + nodegree + married + re74 + re75,
data = lalonde, verbose = FALSE, estimand = "ATT", stop.method = "es.mean")
bal.table(ps.lind)
bal.table(ps.la)
plot(ps.lind, plots=3)
bal.table(ps.la)
plot(ps.la, plots=3)
summary(ps.la$gbm.obj, plot = TRUE)
lalonde$w = get.weights(ps.la, stop.method = "es.mean")
design.ps = svydesign(ids=~1, weights = ~w, data=lalonde)
summary(svyglm(re78~treat, design=design.ps))
#Let's compare this to fitting a regular linear regression model with covariate adjustment
summary(lm(re78~treat + age + educ + black + hispan + nodegree + married + re74 + re75, data=lalonde))
#significant treatment effect
lalonde$w
ps.logit = glm(treat ~ age + educ + black + hispan + nodegree + married + re74 + re75, data=lalonde, family = "binomial")
my.preds = predict(ps.logit, type = "response")
lalonde$w.logit = rep(1,nrow(lalonde))
lalonde$w.logit[lalonde$treat==0] = my.preds[lalonde$treat==0]/(1-my.preds[lalonde$treat==0])
bal.logit <- dx.wts(x = lalonde$w.logit, data=lalonde,vars=c("age","educ","black","hispan","nodegree","married","re74","re75"), treat.var="treat", perm.test.iters=0, estimand = "ATT")
bal.table(bal.logit)
design.ps = svydesign(ids=~1, weights = ~w.logit, data=lalonde)
summary(svyglm(re78~treat, design=design.ps))
.05/0.055
.8^10
8+4+3+4+21+16+10+12+13+12+14+10+6+5+6
144/15
sd(c(8, 4, 3, 4, 21, 16, 10, 12, 13, 12, 14, 10, 6, 5, 6))
sd(c(8, 4, 3, 4, 21, 16, 10, 12, 13, 12, 14, 10, 6, 5, 6))^2*14
sqrt(369.6/14)
0.4488-0.4015
sqrt(2*17^2)
17^2
289*2
250000/(((1+0.064/12)^60 -1)/(0.064/12))
250000/(((1+0.064/12)^(60)-1)/(0.064/12))
250000/(((1+0.064/12)^(180)-1)/(0.064/12))
250000/(((1+0.064/12)^(12*15)-1)/(0.064/12))
250000*(.064/12)/((1+0.064/12)^(12*15) =1)
250000*(.064/12)/((1+0.064/12)^(12*15) -1)
250000*(.072/12)/(1-(1+0.072/12)^(-12*10) )
250000*(.064/12)/((1+0.064/12)^(12*15) -1)
250000*(.072/12)/(1-(1+0.072/12)^(-12*10) )*12*15
250000*(.064/12)/((1+0.064/12)^(12*15) -1)
250000*(.064/12)/((1+0.064/12)^(12*15) -1)*12*15
830.72*12*15
9.15-.5
9.15+.5
250000*(.072/12)/(1-(1+0.072/12)^(-12*10) )*12*15
250000*(.072/12)/(1-(1+0.072/12)^(-12*10) )*12*10
2928.55*12*10
351.425.8-0.4
351425.8-0.4
351425.8+0.4
351425.8+0.3
351425.8-0.3
25000*e^(0.068*15)
25000*exp(0.068*15)
log(10)/0.068
(250000-25000*exp(0.068*15))*(0.064/12)/(250000*(.064/12)/((1+0.064/12)^(12*15) -1)) +1
log((250000-25000*exp(0.068*15))*(0.064/12)/(250000*(.064/12)/((1+0.064/12)^(12*15) -1)) +1)
log((250000-25000*exp(0.068*15))*(0.064/12)/(250000*(.064/12)/((1+0.064/12)^(12*15) -1)) +1)/log(1+0.064/12)*(1/12)
log((250000-25000*exp(0.068*15))*(0.064/12)/(250000*(.064/12)/((1+0.064/12)^(12*15) -1)) +1)/log(1+0.064/12)*(1/12)
log((250000-25000*exp(0.068*15))*(0.064/12)/(830.72)/log(1+0.064/12)*(1/12)
d
)
3_4
3+4
log((250000-25000*exp(0.068*15))*(0.064/12)/(830.72))/log(1+0.064/12)*(1/12)
log((250000-25000*exp(0.068*15))*(0.064/12)/(830.72)+1)/log(1+0.064/12)*(1/12)
(4.7-4.8)/12
(4.9-4.8)/6
(5-4.8)/6
(4.9-4.8)/6
(6.28*exp(-0.009(73-48)))
(6.28*exp(-0.009*(73-48)))
(6.28*exp(-0.009*(73-48)) - 6.28*exp(-0.009*(72-48)))/(1)
(6.28*exp(-0.009*(72.5-48)) - 6.28*exp(-0.009*(72-48)))/(.5)
(6.28*exp(-0.009*(72+1/30-48)) - 6.28*exp(-0.009*(72-48)))/(1/30)
(6.28*exp(-0.009*(72+12-48)) - 6.28*exp(-0.009*(72-48)))/(12)
1.30
1/30
(6.28*exp(-0.009*(72+0.001-48)) - 6.28*exp(-0.009*(72-48)))/(0.001)
144^2
144^2*0.003
288*.003
144*.07
.864+.07
62.2+10.08+3.9
(8.3-7.8)/36
(9.1-7.8)/24
(9.8-7.8)/12
(8.3-7.8)/1
(9.5-7.8)/6
-0.006*(12)^2+0.038*(12)+4.24
-0.006*(12.01)^2+0.038*(12.01)+4.24
-0.006*(12.01)^2+0.038*(12.01)+4.24 - (-0.006*(12)^2+0.038*(12)+4.24)
-0.006*(12.01)^2+0.38*(12.01)+4.24 - (-0.006*(12)^2+0.38*(12)+4.24)
(-0.006*(12.01)^2+0.38*(12.01)+4.24 - (-0.006*(12)^2+0.38*(12)+4.24))/0.01
(-0.006*(12.01)^2+0.376*(12.01)+4.24 - (-0.006*(12)^2+0.376*(12)+4.24))/0.01
(-0.006*(12.1)^2+0.376*(12.1)+4.24 - (-0.006*(12)^2+0.376*(12)+4.24))/0.1
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1
(-0.063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.063*(12)^2+0.2752*(12)+6.9))/0.1
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.6
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.4
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.3
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.2
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.25
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.26
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.23
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.22
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.21
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.23
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.225
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.22
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.21
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.228
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.22
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.23
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.24
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.25
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.24
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.245
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.246
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.243
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.244
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.243
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.246
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.247
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.2465
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.247
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.246
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.2455
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.2452
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.245
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.244
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.241
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.243
(-0.0063*(12.1)^2+0.2752*(12.1)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.1/0.244
-0.006/.244
0.2752/.244
6.9/.244
(-0.0063*(12.01)^2+0.2752*(12.01)+6.9 - (-0.0063*(12)^2+0.2752*(12)+6.9))/0.01/0.244
-0.025(12.01)^2 + 1.13*12.01+28.24
-0.025*(12.01)^2 + 1.13*12.01+28.24
-0.025*(12.01)^2 + 1.13*12.01
-0.025*(12.01)^2 + 1.13*12.01-2
-0.025*(12.01)^2 + 1.13*12.01-2.2
-0.025*(12)^2 + 1.13*(12)-2.2
-0.025*(12)^2 + 1.13*(12)-2.22
-0.025*(12)^2 + 1.13*(12)-2
-0.025*(12)^2 + 1.13*(12)-2.1
-0.025*(12)^2 + 1.13*(12)-2.15
-0.025*(12.01)^2 + 1.13*(12.01)-2.15
2021-2008
*12
(2021-2008)*12
(2025-2008)*12
-3.3*(54)^2+332.6*(54)+17860
332.6/6.6
(203.2*exp(0.01*54)*(-6.5s*54+332.58)-(3.26*54^2+332.58*54+17860)*2.032*exp(0.01*54))/(203.2*exp(0.54))^2
(203.2*exp(0.01*54)*(-6.52*54+332.58)-(3.26*54^2+332.58*54+17860)*2.032*exp(0.01*54))/(203.2*exp(0.54))^2
332.6/(2*3.26)
332.6/(2*3.25)
332.6/(2*3.24)
333/(2*3.24)
333/(2*3.2)
333/(2*3.1)
333/(2*3.3)
333/(2*3.4)
333/(2*3.2)
332/(2*3.3)
332/(2*3.2)
331/(2*3.2)
331/(2*3.3)
-3.2*(54)^2+333*(54)+17860
333/6.4
333/6.6
332/6.4
332/6.6
50.001*64
320/64
320/6.4
-3.2*54)^2+320*540+17860
-3.2*(54)^2+320*540+17860
-3.2*(54)^2+320*540+27860
-3.2*(54)^2+320*54+17860
-3.2*(54)^2+320*54+27860
-3.2*(54)^2+320*54+19000
322/6.4
322/6.2
322/6.4
320/6.4
321/6.4
321/6.2
325/6.2
318/6.2
315/6.2
314/6.2
310/6.2
312/6.2
311/6.2
322/6.4
322.4/6.4
321.5/6.4
321.2/6.4
-3.2*(54)^2+320*54+19000
-3.2*(54)^2+320*54+19010
51*6.4
326/6.4
327/6.4
326/6.4
326/6.2
326/6.4
-3.2*(54)^2+326*54+19010
-3.2*(54)^2+326*54+18010
326/6.4
(203.2*exp^(0.054)*(-6.4*54+326)-(-3.2*(54^2)+326*54+18010)*2.032*exp(0.054))/(203.2*exp^(0.054))^2
(203.2*exp(0.054)*(-6.4*54+326)-(-3.2*(54^2)+326*54+18010)*2.032*exp(0.054))/(203.2*exp(0.054))^2
(26545.4-22606.6)/10
(25951.9-26545.4)/10
(26574.7-25951.9)/10
(26574.7-25951.9)/2
(26574.7-25951.9)/2+26574.7
(26574.7-26765.9)
(26574.7-26765.9)*6+26574.7
((26574.7-26765.9)*6+26574.7 + 26886.1)/2
(843+751)/(80348+81896)
44/15969
39/64379
.00275538/0.00060578
15969/80348
219/8099
219/15969
(19828+843-471)/80348
install.packages(c("dynamicTreeCut","vegan"))
#| echo: false
#  install.packages(c("dynamicTreeCut","vegan")) # run once
library(dynamicTreeCut)
library(vegan)   # for Jaccard distances on binary data
library(dynamicTreeCut)
library(vegan)   # for Jaccard distances on binary data
fish_df <- read.csv("pandas/fish_df.csv", check.names = FALSE)
setwd("~/Documents/GitHub/ltrm_fish")
library(dynamicTreeCut)
library(vegan)   # for Jaccard distances on binary data
fish_df <- read.csv("pandas/fish_df.csv", check.names = FALSE)
head(fish_df)
